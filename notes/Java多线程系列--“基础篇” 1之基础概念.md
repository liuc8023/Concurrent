### 并发和并行
<font size="2">

**并行：** 指两个或多个时间在同一时刻发生（同时发生）；

**并发：** 指两个或多个事件在一个时间段内发生。</font>

　　

　　**![img](https://images2015.cnblogs.com/blog/1120165/201705/1120165-20170520190715010-1163696987.png)**

<font size="2">&ensp;&ensp;&ensp;&ensp;在操作系统中，安装了多个程序，并发指的是在一段时间内宏观上有多个程序同时运行，这在单 CPU 系统中，每一时刻只能有一道程序执行，即微观上这些程序是分时的交替运行，只不过是给人的感觉是同时运行，那是因为分时交替运行的时间是非常短的。

&ensp;&ensp;&ensp;&ensp;而在多个 CPU 系统中，则这些可以并发执行的程序便可以分配到多个处理器上（CPU），实现多任务并行执行，即利用每个处理器来处理一个可以并发执行的程序，这样多个程序便可以同时执行。

&ensp;&ensp;&ensp;&ensp;目前电脑市场上说的多核 CPU，便是多核处理器，核 越多，并行处理的程序越多，能大大的提高电脑运行的效率。 
</font>

**注意：** <font size="2" color ="red">单核处理器的计算机肯定不能并行的处理多个任务，只能是多个任务交替的在单个 CPU 上运行。
</font>



### 进程和线程
<font size="2">

**进程：** 是指一个内存中运行的应用程序，每个进程都有一个独立的内存空间，一个应用程序可以同时运行多个进程；进程也是程序的一次执行过程，是系统运行程序的基本单位；系统运行一个程序即是一个进程从创建、运行到消亡的过程。

**线程：** 进程内部的一个独立执行单元；一个进程可以同时并发的运行多个线程，可以理解为一个进程便相当于一个单 CPU 操作系统，而线程便是这个系统中运行的多个任务。

 
我们可以再电脑底部任务栏，右键----->打开任务管理器,可以查看当前任务的进程和线程</font>

　　![img](https://images2015.cnblogs.com/blog/1120165/201705/1120165-20170520193239291-164578694.png)

 

<font size="2">线程选项：</font>

　　![img](https://images2015.cnblogs.com/blog/1120165/201705/1120165-20170520193500322-1333917323.png)

### 进程与线程的区别

**进程：** <font size="2">有独立的内存空间，进程中的数据存放空间（堆空间和栈空间）是独立的，至少有一个线程。</font>

**线程：** <font size="2">堆空间是共享的，栈空间是独立的，线程消耗的资源比进程小的多。</font>

 

**注意：**
<font size="2">
1、因为一个进程中的多个线程是并发运行的，那么从微观角度看也是有先后顺序的，哪个线程执行完全取决于 CPU 的调度，程序员是干涉不了的。而这也就造成的多线程的随机性。

2、Java 程序的进程里面至少包含两个线程，主进程也就是 main()方法线程，另外一个是垃圾回收机制线程。每当使用 java  命令执行一个类时，实际上都会启动一个 JVM，每一个 JVM 实际上就是在操作系统中启动了一个线程，java 本身具备了垃圾的收集机制，所以在  Java 运行时至少会启动两个线程。

3、由于创建一个线程的开销比创建一个进程的开销小的多，那么我们在开发多任务运行的时候，通常考虑创建多线程，而不是创建多进程。
</font>

### 多线程的优势
<font size="2">
1、进程之间不能共享内存，而线程之间可以共享内存。

2、系统创建进程需要为该进程重新分配系统资源，创建线程的代价则小的多，因此多任务并发时，多线程效率高。

3、Java 语言本身内置多线程功能的支持，而不是单纯作为底层系统的调度方式，从而简化了多线程编程。
</font>
 

**注意：** <font size="2">多线程是为了同步完成多个任务，不是为了提高程序运行效率，而是通过提高资源使用效率来提高系统的效率。</font>

### 多线程的应用场景
<font size="2">

- 程序中出现需要等待的操作，比如网络操作、文件 IO 等，可以利用多线程充分使用处理器资源，而不会阻塞程序中其他任务的执行
- 程序中出现可分解的大任务，比如耗时较长的计算任务，可以利用多线程来共同完成任务，缩短运算时间
- 程序中出现需要后台运行的任务，比如一些监测任务、定时任务，可以利用多线程来完成

</font>
